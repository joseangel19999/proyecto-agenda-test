<div class="card-header text-white header-modal bg-secondary">
  <h2 class="mb-0" style="text-align: center;">Registro de cuenta</h2>
</div>
<div class="container-login">
  <form [formGroup]="cuentaFom">


            <mat-form-field appearance="outline" class="w-100 w-md-75 w-lg-50">
              <!--<mat-label >Nombre</mat-label>-->
              <mat-label>Nombre</mat-label>
              <input matInput class="p-lg-0 input-md-height" formControlName="nombre" id="nombre" placeholder="nombre" />
            </mat-form-field>

             <mat-form-field appearance="outline" class="w-100 w-md-75 w-lg-50">
              <!--<mat-label >Nombre</mat-label>-->
               <mat-label>Apellido</mat-label>
              <input matInput class="p-lg-0 input-md-height" formControlName="apellido" id="apellido" placeholder="apellido" />
            </mat-form-field>

            <mat-form-field appearance="outline" class="w-100 w-md-75 w-lg-50">
              <!--<mat-label >Nombre</mat-label>-->
               <mat-label>Email</mat-label>
              <input matInput class="p-lg-0 input-md-height" formControlName="email" id="email" placeholder="email" />
            </mat-form-field>


    <mat-form-field appearance="outline" class="w-100 w-md-75 w-lg-50 py-1">
      <mat-label>Password</mat-label>
      <input matInput class="p-lg-0 input-md-height" [type]="hidePassword() ? 'password' : 'text'"
        formControlName="password" placeholder="Password" />
      <button mat-icon-button matSuffix (click)="clickEventPassword($event)" [attr.aria-label]="'Hide password'"
        [attr.aria-pressed]="hidePassword()">
        <mat-icon>{{ hidePassword() ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
      <mat-error *ngIf="passwordControl.hasError('required') && passwordControl.touched">
        El Password es obligatorio.
      </mat-error>
       <mat-error *ngIf="passwordControl.hasError('minlength') && passwordControl.touched">
        Debe tener al menos 8 caracteres (actual: {{ passwordControl.errors?.['minlength']?.actualLength }}).
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-100 w-md-75 w-lg-50 py-1">
      <mat-label>Confirmar Password</mat-label>
      <input matInput class="p-lg-0" [type]="hidePasswordConfirm() ? 'password' : 'text'"
        formControlName="passwordConfirm" placeholder="Confirmar Password" />
      <button mat-icon-button matSuffix (click)="togglePasswordVisibility($event, 'confirm')"
        [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePasswordConfirm()">
        <mat-icon>{{ hidePasswordConfirm() ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
      <!-- VALIDACIÓN DE NO COINCIDENCIA (passwordsMismatch) -->
      <mat-error class="text-danger"
        *ngIf="passwordConfirmControl.hasError('passwordsMismatch') && passwordConfirmControl.touched">
        Los Password no coinciden.
      </mat-error>

      <!-- ERROR REQUERIDO ESTÁNDAR -->
      <mat-error *ngIf="passwordConfirmControl.hasError('required') && passwordConfirmControl.touched">
        La confirmación es obligatorio.
      </mat-error>
       <mat-error *ngIf="passwordConfirmControl.hasError('minlength') && passwordConfirmControl.touched">
        Debe tener al menos 8 caracteres (actual: {{ passwordConfirmControl.errors?.['minlength']?.actualLength }}).
      </mat-error>
    </mat-form-field>
    <div class="container-botones py-3">
      <div class="col-md-6">
        <button type="button" class="btn btn-secondary" mat-dialog-close="true">Cancelar</button>
      </div>
      <div class="col-md-6">
        <button type="submit" class="btn btn-primary" (click)="registrar()">Registrar</button>
      </div>
    </div>
  </form>
</div>
